<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Underscore测试</title>
<style type="text/css">
.red{background:#f00;}
.gray{background:#666;}
#test,button{padding:10px;}
</style>
<script type="text/javascript" src="underscore.js"></script>

<script type="text/javascript">

// var arr = ['a','b','c'];
// _.each(['a','b','c'], function(i, j){
// 	console.log(i + j);
// });

// var sum = _.reduce([1, 2, 3, 4, 5], function(memo, num){ return memo + num; },1)
// console.log(sum);

// var even = _.find([0,3,5,4,3,2,null,1], function(num){ return num  === null; });
// console.log(even);

// var evens = _.filter([1, 2, 3, 4, 5, 6, null, undefined], function(num){ return num  != null; });
// console.log(evens);

// // var listOfPlays = {author: "Shakespeare", year: 1611}
// // var evenss = _.where(listOfPlays, {author: "Shakespeare", year: 1611});

// var arr = _.invoke([[10, 20, 120], [1, 2, 5, 15]],'sort', function(a,b){return a - b});
// console.log(arr);

// var stooges = [{name : 'moe', age : 40}, {name : 'larry', age : 50}, {name : 'curly', age : 60}];
// var tmp = _.pluck(stooges, 'name');
// console.log(tmp);

// var obj = [{a:1,b:2,c:3},{d:4, b:2, e:5},{f:6, b:2, g:7}];
// var aaa = _.where(obj,{d:4});
//var method = 'min';

// var stooges = [{name : 'moe', age : 10}, {name : 'larry', age : 20}, {name : 'curly', age : 30}];
// var test = _[method](stooges, function(a){
// 	return a.age;
// });
// var test = _.groupBy([21.3, 522.4, 62.6], function(num){return Math.floor(num)});
// var test = _.countBy([1,2,3,4,5],function(num){
// 	return num > 3 ? 'good' : 'not';
// });
var test;

test = _.shuffle([1,2,3,4,5,6]);

console.log(test);



// _.shuffle = function(obj) {
//     var rand;
//     var index = 0;
//     var shuffled = [];
//     each(obj, function(value) {
//       // rand = _.random(index++);
//       rand = 0 | Math.random() * (index++  + 1)
//       shuffled[index - 1] = shuffled[rand];
//       shuffled[rand] = value;
//     });
//     return shuffled;
//   };

function shuffle(obj){
	var rand, index = 0, shuffled = [];
	for(var i = 0, len = obj.length; i < len; i ++){
		rand = 0 | Math.random() * (index++ +1);
		console.log('rand: ' + rand)
		console.log('index: ' + index)
		shuffled[index - 1] = shuffled[rand];
		console.log('shuffled[index-1]: ' + shuffled[index-1]);
		shuffled[rand] = obj[i];
		console.log('shuffled[rand]: ' + shuffled[rand]);
	}
    return shuffled;
}
</script>
</head>

<body>
<h1>Underscore测试</h1>
</body>
</html>
